<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>

    <title>PingDrop : Dashboard</title>
</head>
<body>
    <div id="main-viewport">
        <headear id="viewport-nav">
            <h3>Dashboard</h3>
            <div id="nav-btn-container">
                <a id="nav-con-btn" title="Create a group" href="group.html"><i class="fas fa-plus"></i></a>
                <button id="nav-con-btn" title="Search user"><i class="fas fa-search"></i></button>
                <button id="nav-con-btn" title="Check your inbox"><i class="fas fa-inbox"></i></button>
                <button id="log-but" title="logout">Log out</button>
            </div>
      

            
            <div id="profile-btn"></div>
        </headear>


        <div id="front-section">
            <div id="comms-side">
                <header id="section-head">
                    <H4> â€¢ Messages</H4>
                </header>

                <a id="dm-redirect" href="https://miojoester.github.io/PingDrop/"><i class="fas fa-globe"></i> <p>Global-Chatroom</p>  </a>




                <a id="dm" href="#">
                    <img id="dm-pfp" src="https://i1.sndcdn.com/avatars-CCsH7EWfnhUlG2WL-4XCzzA-t200x200.jpg"></img>
                    <div id="dm-name-m-preview">
                        Mio
                        <p id="m-pre">Hey, hop on the game,.</p>
                    </div>
                </a>
                <a id="dm" href="#">
                    <img id="dm-pfp" src="https://i1.sndcdn.com/artworks-000461236254-zn47j5-t500x500.jpg"></img>
                    <div id="dm-name-m-preview">
                        Not-your-BaÃ© ðŸ’”
                        <p id="m-pre">sup!</p>
                    </div>
                </a>
            </div>








            <div id="recon-side">
                <header id="section-head">
                    <H4> â€¢ Recommendations</H4>
                </header>

                <div id="feed-loader">
                    <div id="group-preview">
                        <img id="group-icon" src="https://i1.sndcdn.com/artworks-28jUXyTdxgkygwDl-8oo2sg-t500x500.jpg" draggable="false"></img>
                        <div class="group-info">
                            <p id="group-chatroom-name">Dev's Chatroom</p>
                            <p id="group-chatroom-bio">Chatroom of those who contributed for this platform :),</p>
                        </div>

                        <div id="socialze">
                            <button id="con-btn">Join</button>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>  
</body>

    <script type="module">

  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

const client = createClient(
  'https://wggypsrylatqicuozout.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndnZ3lwc3J5bGF0cWljdW96b3V0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyMzgxODIsImV4cCI6MjA2ODgxNDE4Mn0.oBtTNLgLL-fZnH-6Q1KmveCTu4_3_ZL-f42A14z_8YA'
);

// âœ… Protect page access
client.auth.getSession().then(({ data }) => {
  if (!data.session) {
    window.location.href = 'login.html';
  }
});



      document.getElementById('log-but').addEventListener('click', async () => {
  await supabase.auth.signOut();
  window.location.href = './login.html';
});


</script>



</html>
